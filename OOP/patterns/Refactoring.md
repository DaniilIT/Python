# Рефакторинг 

– это контролируемый процесс улучшения кода, без написания новой функциональности.
Результатом рефакторинга является чистый код и простой дизайн (программа остается в рабочем состоянии).

https://refactoring.guru/ru


## Чистый код

- проходит все тесты, соответственно покрыт ими
- очевиден для других программистов (нет плохо именованных переменных, раздутых классов и методов, удобочитаем)
- не содержит дублирования
- содержит минимум классов и других движущихся частей
- легче и дешевле поддерживать!
повторно использованный и расширяемый (изменения из-за лучшего понимания и извне)
хорошоший дизайн - достаточный уровень гибкости, связанности, управляемости, стабильности и понятности кода?

## Технический долг

Причины появления:
- давление со стороны бизнеса
- отсутствие понимания последствий технического долга
- отсутствие борьбы с жёсткой связанностью компонентов (монолит)
- отсутствие авто-тестов
- отсутствие документации
- отсутствие взаимодействия между членами команды
- отложенный рефакторинг
- отсутствие контроля за соблюдением стандартов
- отсутствие компетенции


## Запахи кода

### Раздувальщики

- **Длинный метод** (Long Method)  &rArr;  извлечение метода
- **Большой класс** (Large Class) 
- **Одержимость элементарными типами** (Primitive Obsession)  &rArr;  замена массива объектом
- **Длинный список параметров** (Long Parameter List) 
- **Группы данных** (Data Clumps)  &rArr;  замена параметров объектом

### Нарушители объектного дизайна

- **Альтернативные классы с разными интерфейсами** (Alternative Classes with Different Interfaces)
- **Отказ от наследства** (Refused Bequest)  &rArr;  замена наследования делегированием
- **Операторы switch** (Switch Statements)  &rArr;  замена кодирования типа подклассами
- **Временное поле** (Temporary Field)  &rArr;  введение Null-объекта

### Утяжелители изменений

- **Расходящиеся модификации** (Divergent Change)
- **Параллельные иерархии наследования** (Parallel Inheritance Hierarchies)
- **Стрельба дробью** (Shotgun Surgery)

### Замусориватели

- **Комментарии** (Comments)
- **Дублирование кода** (Duplicate Code)
- **Класс данных** (Data Class)
- **Мёртвый код** (Dead Code)
- **Ленивый класс** (Lazy Class)
- **Теоретическая общность** (Speculative Generality) - про запас

### Опутыватели связями

- **Завистливые функции** (Feature Envy)
- **Неуместная близость** (Inappropriate Intimacy)
- **Неполнота библиотечного класса** (Incomplete Library Class)
- **Цепочка вызовов** (Message Chains)
- **Посредник** (Middle Man)
